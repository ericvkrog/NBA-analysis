# NBA Team-Season Modeling (2000–2023)

This project analyzes NBA team-season performance using engineered efficiency features and simple predictive models.

What this does:
- Loads regular-season team stats (2000–2023) and builds efficiency features (eFG%, turnover rate, 3PA rate, FT rate, etc.).
- Evaluates Ridge regression models with a time-based split (no training on future seasons).
- Optionally merges payroll and playoff results (when available).
- Adds two extensions:
  - **Payroll value (net of team stats):** flags teams that win more/less than expected given payroll + efficiency metrics.
  - **Era split:** compares model performance and feature importance pre-2015 vs the modern NBA.

## Repo structure

```text
.
├── README.MD
├── nba_analysis.py
├── requirements.txt
├── .gitignore
├── repo_assets
│   └── league_trends_and_models.png
├── data
│   ├── README.md
│   └── raw
│       ├── nba_team_stats_00_to_23.csv
│       ├── nba_team_stats_playoffs_00_to_21.csv
│       └── nba_team_payroll_1990_to_2023.csv
└── outputs
    └── (generated; gitignored)
```

## Data

Raw CSVs are included in data/raw/ (CC0 / Public Domain). Full citations and links are in data/README.md.

## Results

Running the script writes (generated artifacts in `outputs/`, which is gitignored):
- `outputs/nba_team_seasons_enriched.csv` — one merged/enriched dataset for Tableau and downstream analysis
- `outputs/figures/league_trends_and_models.png` — summary figure saved to disk

Key takeaways:
- Shooting efficiency (**eFG%**) is consistently one of the strongest predictors of win%.
- Payroll adds signal in the modern era (where available), reducing prediction error vs stats-only models.
- Feature importance shifts across eras (pre-2015 vs modern NBA).

## Modeling notes

- Models use **Ridge regression (L2 regularization)** to keep coefficients stable when features are correlated.
- Win% error is reported as **MAE in percentage points** (e.g., 8.5 pp = average absolute error of 8.5% in win rate).
- Payroll models are evaluated on a **restricted** subset of seasons where payroll exists, so comparisons are apples-to-apples.
- Payroll is standardized within each season as `payroll_z_by_season` (relative spending, comparable across eras).

## Preview

![Summary figure](repo_assets/league_trends_and_models.png)

(Generated by `python nba_analysis.py`.)

## Enriched dataset columns (highlights)

- `payroll_z_by_season`: payroll standardized within each season (relative spending).
- `win_pct_expected`: model-predicted win% given payroll + efficiency stats (where payroll is available).
- `win_pct_residual`: actual − expected win% (positive = outperformed expectation).
- `made_playoffs`, `champion`: playoff indicators when playoff data is available.

## How to run

1) Install dependencies:
```bash
pip install -r requirements.txt
```

2) Run the analysis:
```bash
python nba_analysis.py
```
